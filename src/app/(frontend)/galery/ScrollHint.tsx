'use client'

import { MotionValue, motion, useTransform } from 'motion/react'

const ScrollHint = ({ scrollYProgress }: { scrollYProgress: MotionValue<number> }) => {
    const opacity = useTransform(scrollYProgress, [0, 1], [1, 0])
    const pathLength = useTransform(scrollYProgress, [0, 1], [1, 0])
    const translateY = useTransform(scrollYProgress, [0, 0.55, 1], ['0%', '-30%', '-60%'])
    const strokeWidth = useTransform(scrollYProgress, [0, 1], [7, 3])

    return (
        <motion.div
            style={{ opacity }}
            className="fixed top-3/4 left-3/4 -translate-x-1/2 -translate-y-1/2 z-50 flex flex-col items-center justify-center pointer-events-none"
            transition={{ duration: 0.5, ease: 'easeInOut' }}
        >
            <motion.div
                animate={{ y: [0, 10, 0] }}
                transition={{ repeat: Infinity, duration: 1.8, ease: 'easeInOut' }}
                className="pointer-events-auto"
                style={{ translateY }}
            >
                <motion.svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="70" height="180" viewBox="0 0 270 643"
                    className="overflow-visible"
                    preserveAspectRatio="xMidYMid meet"
                >
                    <motion.path
                        stroke="black"
                        strokeLinecap='round'
                        strokeLinejoin='round'
                        style={{ pathLength }}
                        strokeWidth={strokeWidth}
                        fill="none"
                        d="M116.178 360.754C130.021 363.005 144.129 363.094 157.999 361.018C171.764 358.747 185.146 354.573 197.76 348.617C210.183 343.007 221.884 335.92 232.61 327.51C243.37 319.156 252.575 308.974 259.804 297.432C263.424 291.598 266.181 285.27 267.989 278.647C269.956 271.789 270.389 264.583 269.256 257.54C267.904 249.692 263.963 242.522 258.061 237.171C251.882 231.854 244.32 228.396 236.254 227.198C232.503 226.555 228.706 226.219 224.901 226.195C221.263 226.287 217.632 226.569 214.023 227.04C210.551 227.484 207.112 228.154 203.727 229.045L198.446 230.258L193.588 231.789C181.292 235.906 169.426 241.207 158.157 247.619C147.028 253.75 136.823 261.425 127.848 270.415C119.342 278.95 112.121 288.672 106.409 299.279L104.297 303.079L102.555 307.036C101.393 309.622 100.179 312.313 99.1226 314.846C97.0899 320.028 95.3274 325.312 93.8423 330.676C92.9974 333.79 92.3109 336.956 91.6245 340.122C88.8259 339.067 86.3441 337.905 83.3871 336.692C72.6795 331.791 62.6804 325.472 53.6587 317.906C45.1148 310.553 37.7431 301.941 31.798 292.367C21.0039 273.731 14.5769 252.894 12.9999 231.419C11.5369 211.296 12.8876 191.067 17.013 171.316C20.7295 153.216 25.9035 135.446 32.4844 118.179C38.0909 102.98 44.706 88.172 52.2858 73.8535C63.2894 52.8037 77.6659 33.6954 94.8455 17.286C107.413 5.72975 115.967 0.66398 115.175 0.0307617C112.871 0.683353 110.694 1.71794 108.733 3.09133C102.918 6.5132 97.3749 10.3767 92.1525 14.6476C73.5981 30.3603 57.989 49.2466 46.055 70.4235C37.7637 84.7835 30.477 99.6998 24.2471 115.065C16.9717 132.589 11.1439 150.679 6.82187 169.153C1.98065 189.713 0.0784204 210.854 1.17188 231.947C2.34068 255.227 8.86358 277.925 20.234 298.277C26.678 309.145 34.7644 318.953 44.2068 327.352C54.1637 336.012 65.2693 343.257 77.2091 348.881C81.295 350.876 85.4908 352.638 89.7763 354.158C88.2019 366.492 87.7424 378.943 88.4034 391.36C90.4424 424.38 97.3461 456.919 108.891 487.926C117.1 510.452 127.112 532.281 138.831 553.2C151.636 576.478 166.914 598.309 184.4 618.316L190.103 624.331L182.499 622.115C174.262 619.952 166.183 618.316 158.474 616.838C144.8 614.415 130.96 613.039 117.076 612.722C93.3142 612.195 78.8988 615.044 79.0044 616.944C79.11 618.843 93.4726 619.952 115.967 622.959C127.267 624.595 140.626 626.653 155.2 629.978C162.54 631.613 170.143 633.513 177.906 635.729C181.813 636.89 185.773 638.051 189.734 639.317C191.74 639.951 193.483 640.637 196.493 641.376C200.404 642.442 204.558 642.201 208.32 640.69C210.315 639.833 212.113 638.576 213.601 636.996C214.748 635.74 215.724 634.338 216.505 632.827C217.6 630.567 218.45 628.197 219.04 625.756C220.096 621.904 221.046 618.052 222.049 614.305C223.95 606.76 225.693 599.478 227.33 592.512C230.392 578.581 232.61 566.128 234.3 555.258C237.468 534.151 237.89 520.589 235.778 520.22C233.666 519.85 229.284 532.62 223.264 553.253L213.073 589.504C211.172 596.329 209.165 603.453 207.053 610.876C205.997 614.569 204.941 618.369 203.885 622.168C203.862 622.272 203.862 622.38 203.885 622.484C202.142 619.74 199.555 615.941 195.648 610.664C180.636 589.981 167.001 568.335 154.83 545.865C144.047 525.452 134.747 504.29 127.003 482.543C116.257 452.992 109.802 422.054 107.835 390.674C107.324 380.288 107.624 369.879 108.733 359.541C111.215 360.068 113.696 360.596 116.178 361.018V360.754ZM113.168 335.003C114.416 330.232 115.914 325.529 117.657 320.914C118.554 318.645 119.61 316.376 120.614 314.054L122.145 310.624L123.993 307.3C128.798 298.129 134.957 289.733 142.263 282.393C149.956 274.581 158.721 267.901 168.295 262.553C178.35 256.681 188.963 251.82 199.977 248.041L204.149 246.669L208.32 245.614C211.069 244.899 213.854 244.336 216.663 243.925C219.462 243.398 221.944 243.45 224.954 243.187C227.572 243.179 230.186 243.391 232.769 243.82C237.277 244.135 241.554 245.93 244.935 248.927C248.316 251.924 250.61 255.954 251.461 260.389C252.547 270.762 249.989 281.19 244.227 289.887C238.136 299.807 230.364 308.592 221.257 315.848C211.684 323.51 201.224 329.994 190.103 335.162C179.063 340.593 167.314 344.448 155.2 346.612C143.076 348.512 130.731 348.512 118.607 346.612C115.967 346.243 113.327 345.768 110.739 345.24C111.426 341.758 112.165 338.328 113.063 334.687"
                    />
                </motion.svg>
            </motion.div>
        </motion.div>
    )
}

export default ScrollHint
